<BlockSwitcher>
<Block name="TypeScript">

```ts
import { updateUserAttributes, UpdateUserAttributesOutput } from 'aws-amplify/auth';

async function handleUpdateEmailAndNameAttributes(
	updatedEmail: string,
	updatedName: string
) {
	try {
		const attributes = await updateUserAttributes({
			userAttributes: {
				email: updatedEmail,
				name: updatedName,
			},
		});
		handleUpdateUserAttributesOutput(attributes);
	} catch (error) {
		console.log(error);
	}
}

function handleUpdateUserAttributesOutput(
	attributes: UpdateUserAttributesOutput
) {
	Object.entries(attributes).forEach(([attribute, output]) => {
		const { nextStep } = output;
		switch (nextStep.updateAttributeStep) {
			case 'CONFIRM_ATTRIBUTE_WITH_CODE':
				const codeDeliveryDetails = nextStep.codeDeliveryDetails;
				console.log(
					`Confirmation code was sent to ${codeDeliveryDetails?.deliveryMedium}.`
				);
				const confirmationCode = '112233' // code retrieved from phone or email.
				handleConfirmUserAttribute(attribute, confirmationCode);
				break;
			case 'DONE':
				console.log(`${attribute} attribute was successfully updated.`);
				break;
		}
	});
}
```
</Block>
<Block name="JavaScript">

```javascript
import { updateUserAttributes } from 'aws-amplify/auth';

async function handleUpdateEmailAndNameAttributes(
	updatedEmail,
	updatedName
) {
	try {
		const attributes = await updateUserAttributes({
			userAttributes: {
				email: updatedEmail,
				name: updatedName,
			},
		});
		handleUpdateUserAttributesOutput(attributes);
	} catch (error) {
		console.log(error);
	}
}

function handleUpdateUserAttributesOutput(
	attributes
) {
	Object.entries(attributes).forEach(([attribute, output]) => {
		const { nextStep } = output;
		switch (nextStep.updateAttributeStep) {
			case 'CONFIRM_ATTRIBUTE_WITH_CODE':
				const codeDeliveryDetails = nextStep.codeDeliveryDetails;
				console.log(
					`Confirmation code was sent to ${codeDeliveryDetails?.deliveryMedium}.`
				);
				const confirmationCode = '112233' // code retrieved from phone or email.
				handleConfirmUserAttribute(attribute, confirmationCode);
				break;
			case 'DONE':
				console.log(`${attribute} attribute was successfully updated.`);
				break;
		}
	});
}
```
</Block>
</BlockSwitcher>